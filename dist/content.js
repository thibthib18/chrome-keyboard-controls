(()=>{"use strict";({880:function(){var n=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))((function(i,d){function r(n){try{u(o.next(n))}catch(n){d(n)}}function l(n){try{u(o.throw(n))}catch(n){d(n)}}function u(n){var e;n.done?i(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(r,l)}u((o=o.apply(n,e||[])).next())}))};chrome.runtime.onMessage.addListener(((e,t)=>n(void 0,void 0,void 0,(function*(){"open-group-selector"===e.type&&function(){var e;n(this,void 0,void 0,(function*(){const t=document.createElement("div");t.innerHTML='\n              <html>\n                <head>\n                  <style>\n                    /* Style the dialog */\n                    #group-list {\n                      list-style-type: none;\n                      padding-inline-start: 0;\n                    }\n\n                    #group-list li {\n                      margin: 4px;\n                      padding: 4px;\n                      padding-left: 8px;\n                    }\n\n                    #dialog {\n                      position: absolute;\n                      top: 50%;\n                      left: 50%;\n                      transform: translate(-50%, -50%);\n                      width: 400px;\n                      padding: 20px;\n                      border: 1px solid black;\n                      box-shadow: 0 0 4px 0 black;\n                      background-color: #fff;\n                    }\n\n                    /* Style the text input */\n                    #text-input {\n                      width: 100%;\n                      height: 50px;\n                      font-size: 20px;\n                      padding: 10px;\n                      box-sizing: border-box;\n                    }\n                  </style>\n                </head>\n                <body>\n                  <div id="dialog">\n                    <input id="text-input" type="text"/>\n                    <ul id="group-list"></ul>\n                  </div>\n                </body>\n              </html>',t.id="group-selector-container",document.body.appendChild(t);const o=yield chrome.runtime.sendMessage({command:"getGroups"}),i=document.getElementById("group-list");if(!i)return void alert("Could not find group list element");let d=0;function r(n){i.innerHTML="",n.forEach(((n,e)=>{const t=document.createElement("li");t.innerText=n.title||"Untitled",t.style.backgroundColor=n.color,t.style.borderRadius="4px",t.style.opacity=d===e?"0.8":"1",i.appendChild(t)}))}function l(){const n=document.getElementById("group-selector-container");document.removeEventListener("keyup",u),null==n||n.remove()}function u(e){return n(this,void 0,void 0,(function*(){const n=document.getElementById("text-input").value,t=o.filter((e=>(e.title||"Untitled").toLowerCase().includes(n.toLowerCase())));if("Escape"!==e.key){if("Enter"===e.key){if(0===t.length)return void chrome.runtime.sendMessage({command:"addTabToNewGroup",title:n});const e=t[d];chrome.runtime.sendMessage({command:"addTabToGroup",groupId:e.id}),l()}else d="ArrowDown"===e.key?(d+1)%t.length:"ArrowUp"===e.key?(d-1)%t.length:0;r(t)}else l()}))}r(o),null===(e=document.getElementById("text-input"))||void 0===e||e.focus(),document.addEventListener("keyup",u)}))}()}))))}})[880]()})();